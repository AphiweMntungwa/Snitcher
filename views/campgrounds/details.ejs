<% layout("layouts/boilerplate")%>

  <style>
    body {
      justify-content: center;
    }

    section {
      width: 40%;
      display: flex;
      flex-direction: column;
      align-items: baseline;
      border: 1px solid green;
    }

    img {
      width: 100%;
      height: 40vh;
    }

    div {
      margin-left: 1em;
      font-family: monospace, serif;
    }

    h6 {
      margin-left: 1.2em;
      font-size: 14px;
    }

    select {
      border-radius: 5px;
    }

    div[class=buttons] {
      display: flex;
      justify-content: space-around;
      width: 100%;
      margin-left: 0%;
    }

    div[class=buttons]>a,
    #reset {
      min-width: 122px;
    }

    button:hover {
      color: rgb(126, 63, 160);
    }

    button:nth-of-type(1) {
      /* background-color: rgb(67, 27, 128); */
      width: 100%;

    }

    button:nth-of-type(2) {
      background-color: rgb(72, 128, 207);
      width: 100%;
    }

    button:nth-of-type(3) {
      background-color: rgb(203, 62, 96);
      width: 100%;
    }

    span.editClass {
      color: green;
    }

    span.secondEditClass {
      color: red;
    }

    #rating {
      width: 100%;
    }

    .reviewPadding {
      overflow: auto;
    }

    .form-control {
      border-left: none;
      border-right: none;
      background-color: inherit;
      border-bottom: none;
    }

    #longbutton:active {
      background-color: #646464;
      color: white;
    }

    #longbutton {
      border-right: none;
      border-left: none;
      border-top: none;
      border-bottom: none;
      transition: color 0.5s;
    }

    .d-flex {
      justify-content: space-around;
    }

    #rating {
      color: orangered;
    }

    .input-group-prepend {
      width: 40px;
      margin-left: -5px;
      margin-top: -5px;
    }
    #display{
      border-radius:3px;
      width: 100px;
      height: 80px;   
    }
    #options>span:active{
      background-color: rgb(104, 89, 89);
    }
    #options>span:hover{
      background-color: rgb(235, 215, 215);
    }
    .dropdown{
      width: 80px;
      display: none;
    }
    @media (max-width: 931px) {
      div[class=buttons] {
        flex-direction: column;
      }
    }
  </style>


  <div class="d-flex">

    <section>
      <img src="<%=selectCamp.image%>" alt="image not found">
      <div><b>
          <%=selectCamp.title%>
        </b></div>
      <h6>
        <%=selectCamp.location%>
      </h6>
      <div>
        <%=selectCamp.description%>
      </div><br>
      <div class="buttons">
        <a href="/index/<%=selectCamp._id%>/edit" class=" btn btn-success">Edit</a>
        <a href="/index" class="btn btn-info">Campgrounds</a>
        <form class="d-inline" action="/index/<%=selectCamp._id%>?_method=DELETE" method="post">
          <button id="reset" class=" btn btn-danger">Delete</button>
        </form>
      </div><br>

    </section>
    <section>
      <div class="mt-3 reviewPadding">
        <b>Camp Review: </b>
        <form action="/index/<%=selectCamp._id%>/review" novalidate class="form-control cs-validate" method="post">
          <input type="range" class="form-range" min="0" max="5" step="1" name="campreview[rating]">
          <textarea name="campreview[body]" required placeholder="review..." class="form-control bg-light" cols="35"
            rows="2"></textarea>
          <button id="longbutton">submit review</button>
        </form>
        <% for(review of selectCamp.reviews){ %>
          <div class="card mt-2 me-4">
            <div class="card-body">
              <div class="input-group-prepend mb-1 d-inline">
                <span class="input-group-text d-inline py-1 px-2"><span id="rating">
                    <%= review.rating %>
                  </span></span>
              </div>
              <div class="input-group-prepend mb-1 d-inline" id="options">
                <span id="optionspan" class="input-group-text d-inline py-1 px-2"><i class="fas fa-bars"></i></span>
              </div>
              <div class="card dropdown">
                <button>edit</button>
                <form action="/index/<%=selectCamp._id%>/review/<%=review._id%>?_method=DELETE" method="post">
                <button>delete</button>
                </form>
              </div>              

              <div style="margin-left: 0;"><i style="color:blue;">
                  <%= review.body %>
                </i></div>
            </div>
          </div>
          <% } %>
      </div><br>

    </section>

  </div>
  <script src="/js/details.js"></script>